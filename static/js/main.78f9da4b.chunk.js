(this.webpackJsonpchartercodingchallenge=this.webpackJsonpchartercodingchallenge||[]).push([[0],{19:function(e,t,a){e.exports=a(44)},24:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),l=(a(24),a(2)),s=a(4),i=a.n(s),u=a(6),m=a(7),f=a.n(m);function h(){return(h=Object(u.a)(i.a.mark((function e(t,a,n){var r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,f()({url:"https://code-challenge.spectrumtoolbox.com/api/restaurants",headers:{Authorization:"Api-Key q3MNxtfep8Gt"}});case 3:r=e.sent,c=r.data.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),t(c),n(c),a(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(u.a)(i.a.mark((function e(t,a,n,r,c,o){var l,s,u,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,f()({url:"https://code-challenge.spectrumtoolbox.com/api/restaurants",headers:{Authorization:"Api-Key q3MNxtfep8Gt"}});case 3:l=e.sent,s=l.data,u="All"===c?[{state:"All"}]:o.filter((function(e,t){return e.hasOwnProperty(c)})),m=Object.values(u[0]).toString(),"All"!==c&&(s=s.filter((function(e){return e.state===m}))),"All"!==r&&(s=s.filter((function(e){return e.genre.toLowerCase().includes(r.toLowerCase())}))),""!==n&&(s=s.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())||e.genre.toLowerCase().includes(n.toLowerCase())||e.city.toLowerCase().includes(n.toLowerCase())}))),t(s.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}))),a(!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=function(e,t,a){var c=Object(n.useState)(t),o=Object(l.a)(c,2),s=o[0],i=o[1],u="use-dropdown-".concat(e.replace(" ","").toLowerCase());return[s,function(){return r.a.createElement("label",{htmlFor:u},e,r.a.createElement("select",{id:u,value:s,onChange:function(e){return i(e.target.value)},onBlur:function(e){return i(e.target.value)},disabled:0===a.length},r.a.createElement("option",null,"All"),a.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))))},i]},b=function(e){for(var t=e.restaurantsPerPage,a=e.totalRestaurants,n=e.paginate,c=e.currentPage,o=[],l=1;l<=Math.ceil(a/t);l++)o.push(l);return r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination"},o.map((function(e){return r.a.createElement("li",{key:e,className:"page-item"},r.a.createElement("button",{onClick:function(){return n(e)},className:c===e?"page-link active":"page-link"},e))}))))},g=a(8),E=[{Alabama:"AL"},{Alaska:"AK"},{Arizona:"AZ"},{Arkansas:"AR"},{California:"CA"},{Colorado:"CO"},{Connecticut:"CT"},{Delaware:"DE"},{"District of Columbia":"DC"},{Florida:"FL"},{Georgia:"GA"},{Hawaii:"HI"},{Idaho:"ID"},{Illinois:"IL"},{Indiana:"IN"},{Iowa:"IA"},{Kansas:"KS"},{Kentucky:"KY"},{Louisiana:"LA"},{Maine:"ME"},{Maryland:"MD"},{Massachusetts:"MA"},{Michigan:"MI"},{Minnesota:"MN"},{Mississippi:"MS"},{Missouri:"MO"},{Montana:"MT"},{Nebraska:"NE"},{Nevada:"NV"},{"New Hampshire":"NH"},{"New Jersey":"NJ"},{"New Mexico":"NM"},{"New York":"NY"},{"North Carolina":"NC"},{"North Dakota":"ND"},{Ohio:"OH"},{Oklahoma:"OK"},{Oregon:"OR"},{Pennsylvania:"PA"},{"Rhode Island":"RI"},{"South Carolina":"SC"},{"South Dakota":"SD"},{Tennessee:"TN"},{Texas:"TX"},{Utah:"UT"},{Vermont:"VT"},{Virginia:"VA"},{Washington:"WA"},{"West Virginia":"WV"},{Wisconsin:"WI"},{Wyoming:"WY"}],N=E.map((function(e,t){return Object.keys(E[t])})),O=function(e){var t=e.restaurantInformation,a=t.name,n=t.city,c=t.state,o=t.telephone,l=t.genre.split(",").join(", ");return r.a.createElement("tr",{className:"table-row"},r.a.createElement("td",{className:"table-data"},a),r.a.createElement("td",{className:"table-data"},n,", ",c),r.a.createElement("td",{className:"table-data"},o),r.a.createElement("td",{className:"table-data"},l))},v=(a(43),function(e){var t=e.restaurants;if(e.loading)return r.a.createElement("h2",null,"Loading...");var a=["Name","Location","Telephone","Genres"].map((function(e,t){return r.a.createElement("th",{className:"table-header",key:t},e)})),n=t.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})).map((function(e){return r.a.createElement(O,{key:e.id,restaurantInformation:e})})),c=r.a.createElement("tr",null,r.a.createElement("td",{align:"center",colspan:"4"},"No available Restaurants."));return r.a.createElement("table",{className:"restaurant-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,a)),r.a.createElement("tbody",null,t.length<=0&&c,n))}),w=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),s=Object(l.a)(o,2),i=s[0],u=s[1],m=Object(n.useState)([]),f=Object(l.a)(m,2),O=f[0],w=f[1],j=Object(n.useState)([]),A=Object(l.a)(j,2),C=A[0],y=A[1],k=Object(n.useState)(""),M=Object(l.a)(k,2),S=M[0],I=M[1],L=d("Genres","All",O),x=Object(l.a)(L,2),D=x[0],W=x[1],P=d("States","All",N),T=Object(l.a)(P,2),K=T[0],R=T[1],V=Object(n.useState)(10),G=Object(l.a)(V,1)[0],H=Object(n.useState)(1),F=Object(l.a)(H,2),J=F[0],Y=F[1];Object(n.useEffect)((function(){!function(e,t,a){h.apply(this,arguments)}(c,y,u)}),[]),Object(n.useEffect)((function(){!function(e,t){var a=e.map((function(e){return e.genre.split(",")})),n=[].concat.apply([],Object(g.a)(a)),r=new Set(n);t(Object(g.a)(r).sort())}(a,w)}),[a]),Object(n.useEffect)((function(){""===S&&(Y(1),u(a))}),[S,a]);var z=J*G,B=z-G,q=i.slice(B,z),U=i.length;return r.a.createElement("div",{className:"search-params"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),Y(1),function(e,t,a,n,r,c){p.apply(this,arguments)}(u,y,S,D,K,E)}},r.a.createElement("label",{htmlFor:"search"},"Search",r.a.createElement("input",{id:"search",value:S,placeholder:"Search...",onChange:function(e){return I(e.target.value)}})),r.a.createElement(W,null),r.a.createElement(R,null),r.a.createElement("button",{className:"submit"},"Submit")),r.a.createElement(v,{restaurants:q,loading:C}),r.a.createElement(b,{restaurantsPerPage:G,totalRestaurants:U,paginate:function(e){return Y(e)},currentPage:J}))};var j=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",{className:"header"},"Restaurants"),r.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.78f9da4b.chunk.js.map